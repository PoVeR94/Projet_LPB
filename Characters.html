<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Royaume des SIO | Wiki</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <link rel="icon" href="Photos/monke_icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300&family=Zen+Dots&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Barlow&family=Merriweather:wght@300&family=Zen+Dots&display=swap" rel="stylesheet">
    <style>
        body 
        {
          background-image: url("./Photos/fond.png");
          background-attachment: fixed;
        }  
    </style>
</head>
<audio autoplay loop>
    <source src="../projet_LPB/Photos/Main Theme - Super Smash Bros_ Brawl.mp3">
</audio>
<body>
    <div class="topnav">
        <div class=""></div> 
        <a href="index.html">Home</a>
        <a class="active" href="Characters.html">Characters</a>
        <a href="index.html"><H1>SIOpédia</H1></a>
        <a href="Lore.html">Lore</a>
        <a href="The Kingdom - Multivers.html">Multivers</a>
    </div>

    <div class="maintext">
        <div class="character_selector">
            <a href="Characters.html#SIO1">
                1ère année
            </a>
            <a href="Characters.html#SIO2">
                2ème année
            </a>
            <a href="Characters.html#PROFS">
                Professeurs
            </a>
            <div class="research">
                <input aria-label="Rechercher" type="text" id="research_box">
                <svg id="lens" viewBox="0 0 24 24">
                    <path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" class="fill-primary transition-[fill] duration-300">
                    </path>
                </svg>
            </div>
                
        </div>

        <h2 class="second_title" id="SIO1">
            Les 1ère année
        </h2>

        <div class="characters_container" id="1annee">
        </div>

        <h2 class="second_title" id="SIO2">
            Les 2ème année
        </h2>

        <div class="characters_container" id="2annee">
        </div>

        <h2 class="second_title" id="PROFS">
            Les Professeurs
        </h2>

        <div class="characters_container" id="prof">
        </div>
    </div>
    
    <script>
        let array_characters_1 = ["adam","alexandre","aylin","bastien","cemal","cyril","djibril","erwann","florian","guillaume","loris","leo","mathys","maxime","miruna","paul","pierric","quentin","raphael","samuel","thomas","timothe"];
        let array_characters_2 = ["kylian","lucas","lyna","mathis","umut"];
        let array_characters_3 = ["boyer","gagneur","hamadouche","kordzinski","laforet","lelong","rezzag","thouverez","visocchi"]
        $("#research_box").on("keyup", () => {

            $("#1annee").empty();
            let filtered_array_1 = array_characters_1.filter((element) => {
                return element.toLowerCase().includes($("#research_box").val().toLowerCase());
            })
            if(filtered_array_1.length <= 0){
                $("#SIO1").hide();
                $("#1annee").hide();
            }else{
                $("#SIO1").show();
                $("#1annee").show();
            }
            for(let i = 0; i < filtered_array_1.length; i++){
                $("#1annee").append(getCharacterCard(filtered_array_1[i]));
            }

            $("#2annee").empty();
            let filtered_array_2 = array_characters_2.filter((element) => {
                return element.toLowerCase().includes($("#research_box").val().toLowerCase());
            })
            if(filtered_array_2.length <= 0){
                $("#SIO2").hide();
                $("#2annee").hide();
            }else{
                $("#SIO2").show();
                $("#2annee").show();
            }
            for(let i = 0; i < filtered_array_2.length; i++){
                $("#2annee").append(getCharacterCard(filtered_array_2[i]));
            }

            $("#prof").empty();
            let filtered_array_3 = array_characters_3.filter((element) => {
                return element.toLowerCase().includes($("#research_box").val().toLowerCase());
            })
            if(filtered_array_3.length <= 0){
                $("#PROFS").hide();
                $("#prof").hide();
            }else{
                $("#PROFS").show();
                $("#prof").show();
            }
            for(let i = 0; i < filtered_array_3.length; i++){
                $("#prof").append(getProfessorCard(filtered_array_3[i]));
            }
        })

        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }
        function getCharacterCard(character_name){
            return `<a class='character' href='Characters/${capitalizeFirstLetter(character_name)}.html'><img src='./Photos/eleves/${character_name}.jpg' alt='${capitalizeFirstLetter(character_name)}'/><h2 ${character_name.length > 8 && 'class="long_name"'}>${capitalizeFirstLetter(character_name)}</h2></a>`;
        }
        function getProfessorCard(character_name){
            return `<a class='character' href='Characters/Profs/${capitalizeFirstLetter(character_name)}.html'><img src='./Photos/profs/${character_name}.jpg' alt='${capitalizeFirstLetter(character_name)}'/><h2 ${character_name.length > 8 && 'class="long_name"'}>${capitalizeFirstLetter(character_name)}</h2></a>`;
        }
        for(let i = 0; i < array_characters_1.length; i++){
            $("#1annee").append(getCharacterCard(array_characters_1[i]));
        }
        for(let i = 0; i < array_characters_2.length; i++){
            $("#2annee").append(getCharacterCard(array_characters_2[i]));
        }
        for(let i = 0; i < array_characters_3.length; i++){
            $("#prof").append(getProfessorCard(array_characters_3[i]));
        }

        $("#lens").on("click",() =>{
            $("#research_box").focus();
        })
    </script>
</body>